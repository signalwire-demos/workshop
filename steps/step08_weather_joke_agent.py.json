{
  "version": "1.0.0",
  "sections": {
    "main": [
      {
        "answer": {}
      },
      {
        "ai": {
          "prompt": {
            "pom": [
              {
                "title": "Role",
                "body": "You are a friendly assistant named Buddy. You help people with weather information and tell great jokes. Keep your responses short since this is a phone call."
              },
              {
                "title": "Guidelines",
                "body": "Follow these guidelines:",
                "bullets": [
                  "When someone asks about weather, use the get_weather function",
                  "When someone asks for a joke, use the tell_joke function",
                  "Be warm, friendly, and conversational"
                ]
              }
            ]
          },
          "SWAIG": {
            "functions": [
              {
                "function": "tell_joke",
                "description": "Tell the caller a funny dad joke. Use this whenever someone asks for a joke or humor.",
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "fillers": {
                  "en-US": [
                    "Let me think of a good one..."
                  ]
                },
                "web_hook_url": "https://signalwire:ieeqic-fQIphvP3veMhL1EZv432yR5A7OgQR6UZW_VE@briankwest.ngrok.io/swaig/?__token=YjVlZTk3Y2QtMThlMC00YWJjLWEyOGYtN2IyOGUwMmJhMjg0LnRlbGxfam9rZS4xNzcxNTE0OTU3LjYyMWUzMjIyLmE4Y2E1MGUzMDBiOWRmMjk%3D"
              },
              {
                "function": "get_weather",
                "description": "Get the current weather for a city. Use this when the caller asks about weather, temperature, or conditions.",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string",
                      "description": "The city to get weather for"
                    }
                  },
                  "required": [
                    "city"
                  ]
                },
                "data_map": {
                  "webhooks": [
                    {
                      "url": "https://api.weatherapi.com/v1/current.json?key=&q=${enc:args.city}",
                      "method": "GET",
                      "output": {
                        "response": "Weather in ${args.city}: ${response.current.condition.text}, ${response.current.temp_f} degrees Fahrenheit, humidity ${response.current.humidity} percent. Feels like ${response.current.feelslike_f} degrees."
                      }
                    }
                  ],
                  "output": {
                    "response": "Sorry, I couldn't get the weather for ${args.city}. Please check the city name and try again."
                  }
                }
              }
            ],
            "defaults": {
              "web_hook_url": "https://signalwire:ieeqic-fQIphvP3veMhL1EZv432yR5A7OgQR6UZW_VE@briankwest.ngrok.io/swaig/"
            }
          },
          "params": {},
          "languages": [
            {
              "name": "English",
              "code": "en-US",
              "voice": "rime.spore",
              "speech_fillers": [
                "Um",
                "Well"
              ],
              "function_fillers": [
                "Let me check on that...",
                "One moment..."
              ]
            }
          ]
        }
      }
    ]
  }
}
